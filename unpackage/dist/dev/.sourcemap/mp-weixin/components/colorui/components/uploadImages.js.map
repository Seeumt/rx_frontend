{"version":3,"sources":["webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?9699","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?3c9b","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?e02f","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?be4e","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?6e62","webpack:///D:/Uni-app/travel/components/colorui/components/uploadImages.vue?0736"],"names":["serverUrl","common","props","isPost","type","Boolean","default","imgs","Array","edit","data","imgList","selectedImgList","warningText","newImgList","computed","limitLength","methods","ChooseImage","uni","chooseImage","count","length","sizeType","sourceType","success","res","img","imgId","imgUrl","tempFilePaths","push","$emit","concat","DelImg","e","showModal","title","content","cancelText","confirmText","confirm","ossId","currentTarget","dataset","index","request","url","method","code","splice","showToast","duration","fail","complete","textareaAInput","textareaAValue","detail","value","textareaBInput","textareaBValue"],"mappings":"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","file":"components/colorui/components/uploadImages.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uploadImages.vue?vue&type=template&id=4c866fad&\"\nvar renderjs\nimport script from \"./uploadImages.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadImages.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\devs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4c866fad')) {\n      api.createRecord('4c866fad', component.options)\n    } else {\n      api.reload('4c866fad', component.options)\n    }\n    module.hot.accept(\"./uploadImages.vue?vue&type=template&id=4c866fad&\", function () {\n      api.rerender('4c866fad', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Uni-app/travel/components/colorui/components/uploadImages.vue\"\nexport default component.exports","export * from \"-!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImages.vue?vue&type=template&id=4c866fad&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImages.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport common from \"../../../common/common.js\"\nvar serverUrl = common.serverUrl\nexport default {\n    props:{\n        isPost:{\n              type: Boolean,\n              default:true\n            },\n        imgs:Array,\n        edit:{\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            imgList: [],\n            selectedImgList:[],\n            warningText:this.isPost?\"点击预览图片\":\"选择封面\",\n            newImgList: []\n\n        };\n    },\n    computed:{\n        limitLength(){\n            if (this.edit) {\n                return 9;\n            }\n            else {\n                return this.isPost?9:1\n            }\n        }\n    },\n    methods: {\n        ChooseImage() {\n            uni.chooseImage({\n                count: this.isPost?(9-this.imgs.length):1,\n                sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n                sourceType: ['album'], //从相册选择\n                success: (res) => {\n                    if (this.edit) {\n                        if (this.imgs.length !== 0) {\n                                var img = {imgId:\"\", imgUrl:\"\"};\n                                img.imgUrl=res.tempFilePaths[0]\n                                this.imgs.push(img)\n                            this.$emit('editImgsChange',this.imgs)\n                        } else {\n                            var img = {imgId:\"\", imgUrl:\"\"};\n                            img.imgUrl=res.tempFilePaths[0]\n                            this.imgs[0]=img\n                        }\n                    }else {\n                        if (this.imgList.length !== 0) {\n                            this.imgList = this.imgList.concat(res.tempFilePaths);\n                            this.$emit('getImgList',this.imgList);\n                        } else {\n                            this.imgList = res.tempFilePaths;\n                            this.$emit('getImgList',this.imgList);\n                        }\n                    }\n\n                }\n            });\n\n        },\n        // ViewImage(e) {\n        //     uni.previewImage({\n        //         urls: this.imgList,\n        //         current: e.currentTarget.dataset.url\n        //     });\n        // },\n        DelImg(e) {\n            if (this.edit) {\n                uni.showModal({\n                    title: 'Tips',\n                    content: '亲，老照片删除了要重新上传哟',\n                    cancelText: '我想想',\n                    confirmText: '删除',\n                    success: res => {\n                        if (res.confirm) {\n                            var ossId = this.imgs[e.currentTarget.dataset.index].imgId\n                            if (ossId!==\"\") {\n                                uni.request({\n                                    url:serverUrl+'/oss/imgs/'+ossId,\n                                    method:'DELETE',\n                                    success: (res) => {\n                                        if(res.data.code===0){\n                                            this.imgs.splice(e.currentTarget.dataset.index, 1);\n                                            uni.showToast({title:res.data.data,duration:1500})\n                                        }\n\n                                    },\n                                    fail: () => {\n\n                                    },\n                                    complete: () => {\n\n                                    }\n                                });\n                            }else {\n                                this.imgs.splice(e.currentTarget.dataset.index, 1);\n                            }\n                            this.$emit('editImgsChange',this.imgs);\n                        }\n                    }\n                });\n            } else {\n                uni.showModal({\n                    title: 'Tips',\n                    content: '确定要删除这张图片吗？',\n                    cancelText: '再看看',\n                    confirmText: '删除',\n                    success: res => {\n                        if (res.confirm) {\n                            this.imgList.splice(e.currentTarget.dataset.index, 1);\n                            this.$emit('getImgList',this.imgList)\n                        }\n                    }\n                });\n            }\n\n        },\n        textareaAInput(e) {\n            this.textareaAValue = e.detail.value\n        },\n        textareaBInput(e) {\n            this.textareaBValue = e.detail.value\n        }\n    }\n}\n","import mod from \"-!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImages.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../devs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uploadImages.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}